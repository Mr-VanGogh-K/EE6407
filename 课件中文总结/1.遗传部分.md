---
      
title: 遗传
      
created: 2025-04-30
      
source: Cherry Studio
      
tags: 
      

---

# 遗传算法与机器学习（EE6407）学习文档

---

## 第一部分：进化计算与问题分类

### 1.1 进化计算概述
进化计算是一种受自然进化启发的计算范式，用于解决复杂的搜索、优化和机器学习问题。它通过模拟生物进化中的自然选择、变异和重组机制，在搜索空间中寻找最优解或近似最优解。

#### 问题分类
根据问题的特性，可以将问题分为以下几类：
- **黑箱模型 (Black Box Model)**：问题被视为一个输入与输出关系不完全明确的黑箱，通常需要通过实验或模拟来推断其内部机制。
- **搜索问题 (Search Problems)**：在巨大的可能性空间中寻找目标解，例如旅行商问题 (TSP)。
- **优化与约束满足 (Optimization vs. Constraint Satisfaction)**：优化问题关注找到最优解（例如最大化或最小化目标函数），而约束满足问题关注满足一组约束条件。
- **NP问题 (NP Problems)**：包括NP完全 (NP-Complete) 和NP困难 (NP-Hard) 问题，通常在计算复杂性上具有挑战性。

### 1.2 黑箱模型的类型及示例
黑箱模型包括三个主要组成部分：输入、系统（模型）和输出。当其中一个部分未知时，会形成不同类型的问题。

#### 1.2.1 优化 (Optimisation)
- **定义**：已知模型和期望输出，任务是找到合适的输入以实现目标输出。
- **示例**：
  - **大学课程表安排 (University Timetabling)**：搜索空间巨大，需满足多个竞争性标准（如时间冲突、资源分配），且大部分解不可行。
  - **卫星结构优化 (Satellite Structure Design)**：为NASA设计优化卫星结构以最大化抗振能力，进化设计结构，适应度基于振动抗性。
  - **八皇后问题 (8-Queens Problem)**：在8x8棋盘上放置8个皇后，确保任意两个皇后不在同一行、列或对角线上。

#### 1.2.2 建模 (Modelling)
- **定义**：已知输入和输出数据集，任务是构建一个模型，使其对所有已知输入都能产生正确的输出。
- **示例**：贷款申请人信用评估模型，通过历史数据进化预测模型，适应度基于模型在历史数据上的准确性。
- **应用**：进化机器学习、股票预测、智能家居语音控制系统等。

#### 1.2.3 仿真 (Simulation)
- **定义**：已知模型，任务是研究不同输入条件下的输出结果，常用于回答“假设情景”问题。
- **示例**：
  - **人工社会进化 (Evolving Artificial Societies)**：模拟贸易、经济竞争等，校准模型，优化策略和政策。
  - **生物学解释 (Biological Interpretations)**：研究进化机制，如近亲繁殖预防、多父母繁殖对进化效率的影响。

### 1.3 搜索问题
- **搜索空间 (Search Space)**：包含所有可能解的集合，包括目标解。例如，旅行商问题中n个城市的搜索空间大小为n!。
- **分类意义**：区分搜索问题（定义搜索空间）和问题求解器（指导如何在搜索空间中移动）。

### 1.4 优化与约束满足
- **目标函数 (Objective Function)**：为可能的解分配一个反映其质量的数值。例如，八皇后问题中目标是最大化“未被攻击的皇后数量”，旅行商问题中目标是最小化路径长度。
- **约束 (Constraint)**：二元评估，判断是否满足给定要求。例如，八皇后问题要求无两个皇后互相攻击。
- **问题类型矩阵**：
  - 无约束无目标：无问题
  - 有约束无目标：约束满足问题 (Constraint Satisfaction Problem, CSP)
  - 无约束有目标：自由优化问题 (Free Optimization Problem, FOP)
  - 有约束有目标：约束优化问题 (Constrained Optimization Problem, COP)
- **转化**：约束问题可转化为优化问题，例如将八皇后问题中的约束（无攻击）转化为目标函数（最小化攻击数量）。

### 1.5 NP问题
NP问题分类基于计算复杂性，用于评估问题难度及求解器的性能。
- **关键概念**：
  - **问题规模 (Problem Size)**：问题的维度和变量可能取值的数量。
  - **运行时间 (Running Time)**：算法终止所需的运算次数，通常以最坏情况分析（如多项式、超多项式、指数时间）。
  - **问题归约 (Problem Reduction)**：通过映射将当前问题转化为另一个问题。
- **NP问题分类**：
  - **P类 (Class P)**：可在多项式时间内解决的问题。
  - **NP类 (Class NP)**：可在多项式时间内验证解的问题，P是NP的子集。
  - **NP完全类 (NP-Complete)**：属于NP类，且NP中任意问题可通过多项式时间算法归约到该问题。
  - **NP困难类 (NP-Hard)**：至少与NP完全问题一样困难，但解未必能在多项式时间内验证。
- **P与NP的关系**：目前未知P是否等于NP，若P≠NP，则需使用近似算法或元启发式算法（如遗传算法）来处理复杂问题。

---

## 第二部分：进化计算的起源与基础

### 2.1 历史视角
进化计算的概念源于对生物进化机制的模拟，发展历程如下：
- **1948年**：图灵提出“遗传或进化搜索”的概念。
- **1962年**：Bremermann提出通过进化与重组进行优化。
- **1964年**：Rechenberg引入进化策略 (Evolution Strategies)。
- **1965年**：Fogel等人引入进化编程 (Evolutionary Programming)。
- **1975年**：Holland提出遗传算法 (Genetic Algorithms)。
- **1992年**：Koza引入遗传编程 (Genetic Programming)。

### 2.2 生物学启发
进化计算的核心灵感来源于达尔文进化论和遗传学。
- **达尔文进化论**：
  - **适者生存 (Survival of the Fittest)**：环境资源有限，个体竞争资源，适应性强的个体有更高繁殖机会。
  - **多样性驱动变化 (Diversity Drives Change)**：表型特征（行为或物理差异）部分由遗传决定，部分受环境影响；若特征有助于繁殖且可遗传，则在后代中逐渐增加。
  - **总结**：种群由多样个体组成，适应性强的特征逐渐占据主导地位，随机变异提供多样性来源，种群整体进化。
- **遗传学**：
  - **基因与基因组 (Genes and Genome)**：生物信息编码在DNA中，基因型 (Genotype) 决定表型 (Phenotype)；基因位于染色体上，大多数细胞有两套染色体（二倍体）；基因组是个体全部遗传物质。
  - **突变 (Mutation)**：DNA复制过程中可能发生微小变化，导致子代获得未遗传自父母的遗传信息，可能带来灾难性、neutral或有益的影响。

### 2.3 进化计算隐喻
- **核心机制**：种群在有限资源环境中竞争，适应性强的个体被选择，通过重组和突变产生新个体，新个体被评估适应度并参与竞争，随时间自然选择提高种群整体适应度。
- **算法特性**：进化算法属于“生成并测试”类算法，基于种群，随机性强，变异操作（重组与突变）创造多样性，选择操作减少多样性并提升质量。

---

## 第三部分：进化算法 (EA) 的结构与组件

### 3.1 进化算法的一般流程
进化算法的基本流程如下：
- **初始化 (Initialization)**：随机生成初始种群。
- **评估 (Evaluation)**：计算每个个体的适应度。
- **选择 (Selection)**：基于适应度选择父母个体 (Parent Selection) 和幸存个体 (Survivor Selection)。
- **变异操作 (Variation Operators)**：通过重组 (Recombination/Crossover) 和突变 (Mutation) 生成子代。
- **终止 (Termination)**：达到终止条件（如最大代数、最优解适应度、适应度无显著提升）时结束。

伪代码如下：
```plaintext
初始化种群 P(0)
评估种群 P(0) 的适应度
t = 0
WHILE 未满足终止条件 DO
    t = t + 1
    通过父母选择从 P(t-1) 中选择父母
    通过重组和突变生成子代
    评估子代适应度
    通过幸存者选择从父母和子代中生成 P(t)
ENDWHILE
```

### 3.2 进化算法的主要组件
#### 3.2.1 表示 (Representation)
- **作用**：为候选解提供编码形式，便于变异操作。
- **两层结构**：
  - 表型 (Phenotype)：原问题上下文中的对象。
  - 基因型 (Genotype)：表型的编码形式（如染色体）。
- **映射关系**：编码 (Encoding) 将表型转为基因型，解码 (Decoding) 将基因型转为表型。
- **要求**：基因型空间需能表示所有可能的表型解，确保搜索全局最优解。

#### 3.2.2 评估函数 (Evaluation/Fitness Function)
- **作用**：代表要解决的任务，提供选择依据，衡量个体质量。
- **形式**：为每个表型分配一个实数值，通常最大化适应度（最小化问题可通过倒数转化）。

#### 3.2.3 种群 (Population)
- **作用**：包含问题的候选解（基因型个体），是进化的基本单位。
- **特性**：允许重复个体，选择操作作用于种群级别，变异操作作用于个体级别。
- **多样性 (Diversity)**：指种群中不同适应度/表型/基因型的数量，多样性对避免局部收敛至关重要。

#### 3.2.4 选择机制 (Selection Mechanism)
- **作用**：识别个体成为父母或幸存者，推动种群向更高适应度发展。
- **特点**：通常基于概率，高质量解被选概率高，但低质量解也有小概率被选，以避免陷入局部最优。
- **类型**：
  - **父母选择 (Parent Selection)**：选择用于生成子代的个体。
  - **幸存者选择 (Survivor Selection)**：从父母和子代中选择下一代种群个体，通常固定种群规模。
- **示例**：轮盘赌选择 (Roulette Wheel Selection)，概率与适应度成正比。

#### 3.2.5 变异操作 (Variation Operators)
- **作用**：生成新的候选解，分为突变 (Mutation, 1元操作) 和重组 (Recombination/Crossover, 2元或多元操作)。
- **突变**：对单个基因型进行小范围随机改变，引入多样性。
- **重组**：合并父母信息生成子代，期望结合优良特性。
- **争论**：突变与重组的重要性因问题和历史背景不同而异，现代EA通常两者结合使用。

#### 3.2.6 初始化与终止
- **初始化**：通常随机生成，确保均匀分布和可能的等位基因值混合，可加入现有解或问题特定启发式。
- **终止条件**：
  - 达到预定适应度值。
  - 达到最大代数。
  - 种群多样性低于某一阈值。
  - 连续多代适应度无显著改善。

### 3.3 进化算法的类型
不同类型的进化算法与不同的数据表示相关：
- **遗传算法 (GA)**：二进制串表示。
- **进化策略 (ES)**：实值向量表示。
- **进化编程 (EP)**：有限状态机表示。
- **遗传编程 (GP)**：LISP树表示。
- **最佳策略**：根据问题选择合适的表示和变异操作，选择操作因仅依赖适应度而与表示无关。

---

## 第四部分：表示与变异操作的具体实现

### 4.1 二进制表示 (Binary Representation)
- **最早的表示形式**：基因型为二进制串。
- **突变**：以概率$p_m$独立改变每个基因，$p_m$通常在$1/\text{pop_size}$到$1/\text{chromosome_length}$之间。
- **交叉 (Crossover)**：
  - **单点交叉 (1-Point Crossover)**：随机选择一个交叉点，交换父母尾部。
  - **多点交叉 (N-Point Crossover)**：选择多个交叉点，交替粘合父母部分。
  - **均匀交叉 (Uniform Crossover)**：每基因独立决定继承哪个父母，无位置偏差。
- **突变与交叉的作用**：
  - 突变：探索性，引入新信息，局限于父母附近。
  - 交叉：开发性，跳转到父母之间的区域，组合信息。

### 4.2 整数表示 (Integer Representation)
- **适用问题**：图像处理参数、类别变量等。
- **变异**：
  - **爬行 (Creep)**：以概率$p_m$为每个基因增加小值（正或负）。
  - **随机重置 (Random Resetting)**：以概率$p_m$随机选择新值。
- **交叉**：与二进制表示相同。

### 4.3 实值或浮点数表示 (Real-Valued/Floating-Point Representation)
- **适用问题**：连续参数优化，如 Ackley 函数。
- **映射**：将实值区间映射到二进制串，但精度受限。
- **突变**：
  - **均匀突变 (Uniform Mutation)**：在范围内随机选择新值。
  - **非均匀突变 (Non-Uniform Mutation)**：加入高斯分布随机偏差，控制步长。
  - **自适应突变 (Self-Adaptive Mutation)**：步长$\sigma$包含在基因组中，与解共同进化。
- **交叉**：
  - **离散交叉 (Discrete Crossover)**：等概率继承父母值。
  - **中间交叉 (Intermediate Crossover)**：子代值为父母值的加权平均。
  - **单点/简单/整体算术交叉 (Single/Simple/Whole Arithmetic Crossover)**：不同范围混合父母值。
  - **混合交叉 (Blend Crossover)**：在扩展范围内随机选择值。
- **多父母重组 (Multi-Parent Recombination)**：扩展至多于2个父母，组合方式包括分段重组或算术平均。

### 4.4 排列表示 (Permutation Representation)
- **适用问题**：排序或序列问题，如旅行商问题 (TSP)。
- **突变**：需确保排列有效性（无重复元素），包括：
  - **交换突变 (Swap Mutation)**：随机交换两个位置。
  - **插入突变 (Insert Mutation)**：将一个值移至另一个值后，保持大部分顺序。
  - **扰乱突变 (Scramble Mutation)**：随机重排选定子集。
  - **反转突变 (Inversion Mutation)**：反转两个位置间的子串。
- **交叉**：需维持排列特性，包括：
  - **Order 1 Crossover**：保留相对顺序。
  - **部分映射交叉 (Partially Mapped Crossover, PMX)**：处理交叉段冲突。
  - **循环交叉 (Cycle Crossover)**：保留父母位置信息。
  - **边重组 (Edge Recombination)**：基于父母边表构建子代，优先公共边。

### 4.5 树表示 (Tree Representation)
- **适用问题**：表示符号表达式，如算术公式、逻辑公式、程序。
- **特性**：非线性结构，大小可变，基于终端集 (Terminal Set) 和函数集 (Function Set) 定义。
- **突变**：替换随机子树为新生成树，突变概率低。
- **重组**：交换父母中随机选择的子树，子代大小可能超过父母。

---

## 第五部分：适应度、选择与种群管理

### 5.1 种群管理模型
- **代际模型 (Generational Model)**：每代个体生存一代，全部父母被子代替换。
- **稳态模型 (Steady-State Model)**：每代生成一个子代，替换种群一个个体。
- **代沟 (Generation Gap)**：替换种群比例，代际模型为1.0，稳态模型为$1/\text{pop_size}$。

### 5.2 父母选择 (Parent Selection)
- **适应度比例选择 (Fitness-Proportionate Selection, FPS)**：选择概率与适应度成正比，易导致过早收敛或选择压力不足。
- **排名选择 (Rank-Based Selection)**：基于相对排名分配概率，避免FPS问题。
  - **线性排名 (Linear Ranking)**：基于参数s控制最优个体优势。
  - **指数排名 (Exponential Ranking)**：对最优个体分配更高概率。
- **锦标赛选择 (Tournament Selection)**：随机选取k个个体，选择最优者，k值控制选择压力。
- **均匀选择 (Uniform Selection)**：无偏随机选择。

### 5.3 幸存者选择 (Survivor Selection)
- **年龄基础替换 (Age-Based Replacement)**：不考虑适应度，稳态模型中可随机删除或删除最旧个体。
- **适应度基础替换 (Fitness-Based Replacement)**：
  - **精英主义 (Elitism)**：始终保留最优解。
  - **GENITOR**：删除最差个体。
  - **循环赛 (Round-Robin Tournament)**：个体间成对竞争，选择胜者最多者。
  - **($\mu, \lambda$)-选择**：仅从子代中选最优$\mu$个。
  - **($\mu + \lambda$)-选择**：从父母和子代中选最优$\mu$个。

### 5.4 选择压力 (Selection Pressure)
- **接管时间 (Takeover Time,$\tau^*$)**: 衡量选择压力，表示选择操作使种群完全被最优个体复制所需代数。
- **公式**：对于比例选择，$\tau^* = \frac{\ln \lambda}{\ln (\lambda / \mu)}$。

---

## 第六部分：进化算法的行为与应用

### 6.1 典型EA行为
- **问题解决工具**：EA作为鲁棒工具，提供在多种问题和实例上的均匀良好性能。
- **Goldberg观点 (1989)**：EA在广泛问题上的表现介于随机搜索和特定问题方法之间。
- **Michalewicz观点 (1996)**：添加问题特定知识可提高EA在特定问题上的表现，但可能降低通用性。

### 6.2 全局优化与邻域搜索
- **全局优化 (Global Optimization)**：在固定集合中寻找最优解，EA作为启发式方法不保证全局最优，但运行时间无界。
- **邻域搜索 (Neighborhood Search)**：EA通过种群、随机多操作（特别是交叉）和随机选择区别于传统邻域搜索（如爬山法），避免陷入局部最优。

---

## 例题与答案

### 例题1：八皇后问题 (8-Queens Problem)
- **问题描述**：在8x8棋盘上放置8个皇后，确保任意两个皇后不在同一行、列或对角线上。
- **表示**：基因型为1-8的排列，表示皇后在每列的位置（如[1,2,3,4,5,6,7,8]）。
- **适应度评估**：每位皇后的惩罚值为可攻击的皇后数，配置惩罚为所有皇后惩罚总和，适应度为惩罚倒数（最大化）。
- **突变**：交换两个随机位置的值。
- **重组**：选择随机交叉点，复制第一部分到子代，第二部分按另一父母顺序插入未出现的值。
- **选择**：
  - 父母选择：挑选5个父母，选择最佳2个进行交叉。
  - 幸存者选择：按适应度降序排序种群，替换第一个适应度低于新子代的个体。
- **总结**：此为一种操作和参数选择方案，可根据需求调整。

### 例题2：简单遗传算法 (SGA) 示例：$f(x) = x^2$
- **问题描述**：最大化$f(x) = x^2$，其中$x$为0到31之间的整数。
- **步骤**：
  1. **编码 (Encoding)**：用5位二进制表示$x$，范围0-31。
  2. **初始种群 (Initial Population)**：随机生成初始种群。
  3. **解码 (Decoding)**：将二进制串转为整数，计算$f(x)$。
  4. **计算适应度比例 (Fitness Proportions)**：使用轮盘赌选择生成交配池。
  5. **交叉 (Crossover)**：随机选择$n/2$对父母，随机选择1-4之间的交叉点，进行单点交叉。
  6. **突变 (Mutation)**：假设突变概率为0.001，总计20位，故无突变发生，最终结果为新种群。
- **进化与终止**：
  - 步骤1和2仅在开始时执行一次。
  - 步骤3-6重复执行直到满足终止条件（如达到最大代数、适应度达到可接受水平、连续多代适应度无提升）。

---
